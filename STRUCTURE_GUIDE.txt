ğŸ“ HEALIX BACKEND STRUCTURE - COMPLETE FILE ORGANIZATION

backend/
â”‚
â”œâ”€â”€ ğŸ“„ app.py                          â† START HERE: Main Flask application entry point
â”œâ”€â”€ ğŸ“„ wsgi.py                         â† Production server entry point
â”œâ”€â”€ ğŸ“„ requirements.txt                â† All Python dependencies
â”œâ”€â”€ ğŸ“„ .env.example                    â† Environment variables template (COPY to .env)
â”œâ”€â”€ ğŸ“„ .gitignore                      â† Git ignore rules
â”œâ”€â”€ ğŸ“„ README.md                       â† Project documentation
â”‚
â”‚
â”œâ”€â”€ ğŸ“ src/                            â† MAIN APPLICATION CODE
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py                 â† App factory (creates Flask app, initializes DB)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ config/                     â† CONFIGURATION FILES
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ settings.py             â† Database & Flask settings (Dev/Prod/Test configs)
â”‚   â”‚   â””â”€â”€ ğŸ“„ database.py             â† Database connection utilities
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ models/                     â† DATABASE MODELS (SQLAlchemy ORM)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ user.py                 â† User model (patients, providers, admins)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ biomarker.py            â† Biomarker readings (heart rate, O2, steps, etc)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ appointment.py          â† Appointment scheduling model
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ prescription.py         â† Medical prescriptions model
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ device.py               â† Wearable devices model
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ alert.py                â† Health alerts model
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ goal.py                 â† User health goals model
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ audit_log.py            â† Audit logging model (compliance tracking)
â”‚   â”‚   â””â”€â”€ ğŸ“„ provider_patient.py     â† Provider-patient relationships
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ controllers/                â† BUSINESS LOGIC (Handle requests)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth_controller.py      â† Registration, login, password reset
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ biomarker_controller.py â† Health data endpoints
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ appointment_controller.py â† Appointment management
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ prescription_controller.py â† Prescription management
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ admin_controller.py     â† Admin features (user management, etc)
â”‚   â”‚   â””â”€â”€ ğŸ“„ export_controller.py    â† PDF export functionality
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ routes/                     â† API ENDPOINTS (URL routing)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth_routes.py          â† /api/auth/* endpoints
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ biomarker_routes.py     â† /api/biomarkers/* endpoints
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ appointment_routes.py   â† /api/appointments/* endpoints
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ prescription_routes.py  â† /api/prescriptions/* endpoints
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ admin_routes.py         â† /api/admin/* endpoints
â”‚   â”‚   â””â”€â”€ ğŸ“„ export_routes.py        â† /api/export/* endpoints
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ middleware/                 â† REQUEST PROCESSING
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth_middleware.py      â† JWT token verification
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ authorization.py        â† Role-based access control (patient/provider/admin)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ error_handler.py        â† Global error handling
â”‚   â”‚   â””â”€â”€ ğŸ“„ rate_limiter.py         â† Request rate limiting
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ utils/                      â† HELPER FUNCTIONS
â”‚       â”œâ”€â”€ ğŸ“„ __init__.py
â”‚       â”œâ”€â”€ ğŸ“„ audit_logger.py         â† Log audit events to database
â”‚       â”œâ”€â”€ ğŸ“„ pdf_generator.py        â† Generate PDF reports
â”‚       â”œâ”€â”€ ğŸ“„ validators.py           â† Input validation (email, password, etc)
â”‚       â”œâ”€â”€ ğŸ“„ decorators.py           â† Custom function decorators
â”‚       â””â”€â”€ ğŸ“„ helpers.py              â† General utility functions
â”‚
â”œâ”€â”€ ğŸ“ migrations/                     â† SQL MIGRATION FILES (Database schema)
â”‚   â”œâ”€â”€ ğŸ“„ 001_create_users.sql        â† User table
â”‚   â”œâ”€â”€ ğŸ“„ 002_create_biomarkers.sql   â† Biomarker readings table
â”‚   â”œâ”€â”€ ğŸ“„ 003_create_appointments.sql â† Appointment table
â”‚   â”œâ”€â”€ ğŸ“„ 004_create_prescriptions.sql â† Prescription table
â”‚   â”œâ”€â”€ ğŸ“„ 005_create_devices.sql      â† Device table
â”‚   â”œâ”€â”€ ğŸ“„ 006_create_provider_patient_relationships.sql
â”‚   â”œâ”€â”€ ğŸ“„ 007_create_goals.sql        â† Goals table
â”‚   â”œâ”€â”€ ğŸ“„ 008_create_audit_logs.sql   â† Audit logs table
â”‚   â””â”€â”€ ğŸ“„ 009_create_alerts.sql       â† Alerts table
â”‚
â””â”€â”€ ğŸ“ tests/                          â† UNIT & INTEGRATION TESTS
    â”œâ”€â”€ ğŸ“„ __init__.py
    â”œâ”€â”€ ğŸ“„ test_auth.py                â† Test authentication endpoints
    â”œâ”€â”€ ğŸ“„ test_biomarkers.py          â† Test biomarker APIs
    â””â”€â”€ ğŸ“„ test_admin.py               â† Test admin features

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– HOW IT ALL WORKS TOGETHER:

1ï¸âƒ£  REQUEST COMES IN
   â”œâ”€ User calls: POST /api/auth/login
   â””â”€ Hits: routes/auth_routes.py

2ï¸âƒ£  ROUTE PROCESSING
   â”œâ”€ Route receives request
   â”œâ”€ Applies middleware (error handling, rate limit)
   â””â”€ Forwards to controller

3ï¸âƒ£  CONTROLLER LOGIC
   â”œâ”€ controllers/auth_controller.py processes the login
   â”œâ”€ Uses models to query database
   â”œâ”€ Generates JWT token
   â””â”€ Returns response

4ï¸âƒ£  MODEL LAYER (Database)
   â”œâ”€ models/user.py defines User table structure
   â”œâ”€ Uses SQLAlchemy ORM
   â”œâ”€ Communicates with PostgreSQL
   â””â”€ Returns data to controller

5ï¸âƒ£  RESPONSE SENT BACK
   â”œâ”€ Controller returns JSON response
   â”œâ”€ Middleware processes response
   â””â”€ Client receives data

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” ARYA'S FILES (Your responsibility):

src/middleware/auth_middleware.py       â† JWT token verification
src/middleware/authorization.py         â† Role-based access control
src/controllers/admin_controller.py     â† Admin user management
src/controllers/export_controller.py    â† PDF exports
src/utils/audit_logger.py              â† Audit logging
models/audit_log.py                     â† Audit logs table
migrations/008_create_audit_logs.sql   â† Audit logs schema

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš™ï¸ COMMON DEVELOPMENT TASKS:

Adding a New API Endpoint:
1. Create migration file (migrations/XXX_create_table.sql)
2. Create model (src/models/new_model.py)
3. Create controller (src/controllers/new_controller.py)
4. Create routes (src/routes/new_routes.py)
5. Add middleware if needed (src/middleware/)

Adding Validation:
1. Add to src/utils/validators.py
2. Use in controller before processing

Adding Database Query:
1. Add method to model in src/models/
2. Call from controller in src/controllers/
3. Return to route in src/routes/

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CHECKLIST FOR SETUP:

â–¡ Create all directories (DONE âœ“)
â–¡ Create all __init__.py files (DONE âœ“)
â–¡ Create app.py, wsgi.py (DONE âœ“)
â–¡ Create requirements.txt (DONE âœ“)
â–¡ Create .env.example (DONE âœ“)
â–¡ Create config/settings.py (DONE âœ“)
â–¡ Create SQL migration files (NEXT - see SQL folder)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

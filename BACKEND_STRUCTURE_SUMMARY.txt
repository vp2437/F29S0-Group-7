ğŸ“Š HEALIX BACKEND - FILE STRUCTURE SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CREATED: Complete Python Flask Backend Structure

Location: c:\Users\neilh\OneDrive\Documents\F29SO\backend\

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ FOLDER ORGANIZATION

backend/
â”‚
â”œâ”€â”€ ROOT FILES (Configuration & Entry Points)
â”‚   â”œâ”€â”€ app.py                          Flask development server
â”‚   â”œâ”€â”€ wsgi.py                         Production server
â”‚   â”œâ”€â”€ requirements.txt                Python dependencies
â”‚   â”œâ”€â”€ .env.example                    Configuration template
â”‚   â”œâ”€â”€ .gitignore                      Git ignore rules
â”‚   â””â”€â”€ README.md                       Documentation
â”‚
â”œâ”€â”€ src/                                Main application code
â”‚   â”œâ”€â”€ __init__.py                     App factory (creates Flask app)
â”‚   â”œâ”€â”€ config/                         Configuration
â”‚   â”œâ”€â”€ models/                         Database ORM models
â”‚   â”œâ”€â”€ controllers/                    Business logic
â”‚   â”œâ”€â”€ routes/                         API endpoints
â”‚   â”œâ”€â”€ middleware/                     Request processing
â”‚   â””â”€â”€ utils/                          Helper functions
â”‚
â”œâ”€â”€ migrations/                         SQL database schemas
â”‚   â””â”€â”€ (9 SQL files to create next)
â”‚
â””â”€â”€ tests/                              Unit & integration tests

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”‘ KEY DESIGN PATTERNS

MVC Pattern (Model-View-Controller):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                CLIENT REQUEST                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
        â”Œâ”€ routes/auth_routes.py â”€â”
        â”‚ (View - API Endpoints)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ controllers/auth_controller.py   â”‚
    â”‚ (Controller - Business Logic)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ models/user.py         â”‚
      â”‚ (Model - Database ORM) â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   PostgreSQL     â”‚
         â”‚   Database       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ WHO CREATES WHAT

KEVIN (Infrastructure)
â”œâ”€â”€ Install Python dependencies
â”œâ”€â”€ Set up PostgreSQL database
â”œâ”€â”€ Run SQL migrations
â””â”€â”€ Configure .env file

NEIL (Database & Appointments)
â”œâ”€â”€ Create SQL migration files (001-007)
â”œâ”€â”€ Create models/appointment.py
â”œâ”€â”€ Create models/prescription.py
â”œâ”€â”€ Create controllers/appointment_controller.py
â”œâ”€â”€ Create controllers/prescription_controller.py
â””â”€â”€ Create routes/appointment_routes.py

BASHEER (Biomarker APIs)
â”œâ”€â”€ Create models/biomarker.py
â”œâ”€â”€ Create controllers/biomarker_controller.py
â”œâ”€â”€ Create routes/biomarker_routes.py
â””â”€â”€ Implement health data endpoints

ARYA (Security & Admin)
â”œâ”€â”€ Create middleware/auth_middleware.py
â”œâ”€â”€ Create middleware/authorization.py
â”œâ”€â”€ Create controllers/admin_controller.py
â”œâ”€â”€ Create controllers/export_controller.py
â”œâ”€â”€ Create utils/audit_logger.py
â”œâ”€â”€ Create models/audit_log.py
â”œâ”€â”€ Create SQL migration 008_create_audit_logs.sql
â””â”€â”€ Implement PDF exports

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ—‚ï¸ NAMING CONVENTIONS

File Names:
âœ“ lowercase_with_underscores.py
âœ— CamelCase.py

Class Names:
âœ“ class User:
âœ“ class AuditLog:
âœ— class user:

Function Names:
âœ“ def create_user():
âœ“ def get_biomarker_history():
âœ— def CreateUser():

Route Names:
âœ“ /api/auth/login
âœ“ /api/biomarkers/current
âœ— /API/Auth/Login

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ DATA FLOW EXAMPLE: User Login

1. Frontend sends POST /api/auth/login

2. routes/auth_routes.py receives request
   â””â”€ Calls controller

3. controllers/auth_controller.py processes login
   â”œâ”€ Validates email/password
   â”œâ”€ Queries User model
   â””â”€ Returns JWT token

4. models/user.py interacts with database
   â”œâ”€ Checks if user exists
   â”œâ”€ Verifies password
   â””â”€ Returns user data

5. Response sent back to frontend
   â””â”€ Contains JWT token

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ DEPENDENCY CHAIN

Kevin's Database Setup
    â†“
Neil's SQL Migrations (001-007)
    â†“
Basheer's Biomarker APIs
    â†“
Arya's SQL Migration (008) + Security Features
    â†“
All: Python Models & Controllers
    â†“
All: Routes & API Endpoints
    â†“
Frontend Integration

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ WHAT'S INSTALLED (requirements.txt)

Flask==2.3.0                  Web framework
Flask-SQLAlchemy==3.0.0       Database ORM
Flask-JWT-Extended==4.4.0     JWT authentication
Flask-CORS==4.0.0             CORS handling
psycopg2-binary==2.9.0        PostgreSQL driver
bcrypt==4.0.0                 Password hashing
pydantic==1.10.0              Data validation
PyPDF2==3.0.0                 PDF manipulation
reportlab==4.0.0              PDF generation

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“„ ARYA'S MAIN FILES (Your Focus)

Authorization & Access Control:
â”œâ”€â”€ src/middleware/auth_middleware.py       â† JWT verification
â”œâ”€â”€ src/middleware/authorization.py         â† Role-based access (patient/provider/admin)
â””â”€â”€ src/routes/auth_routes.py               â† Auth endpoints

Admin Features:
â”œâ”€â”€ src/controllers/admin_controller.py     â† User management, provider creation
â”œâ”€â”€ src/routes/admin_routes.py              â† Admin endpoints
â””â”€â”€ src/models/user.py                      â† User model with roles

Audit Logging (YOUR MAIN RESPONSIBILITY):
â”œâ”€â”€ src/utils/audit_logger.py               â† Log audit events
â”œâ”€â”€ src/models/audit_log.py                 â† Audit log model
â”œâ”€â”€ migrations/008_create_audit_logs.sql    â† Audit logs table
â””â”€â”€ src/routes/audit_routes.py              â† View audit logs

PDF Exports:
â”œâ”€â”€ src/controllers/export_controller.py    â† Generate PDFs
â”œâ”€â”€ src/routes/export_routes.py             â† Export endpoints
â””â”€â”€ src/utils/pdf_generator.py              â† PDF creation utility

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ NEXT IMMEDIATE STEPS

Phase 1: Database Setup
â–¡ Create PostgreSQL database
â–¡ Create all 9 SQL migration files (in migrations/ folder)
â–¡ Run migrations

Phase 2: Python Models
â–¡ Create SQLAlchemy models in src/models/
â–¡ One model per database table

Phase 3: Controllers & Routes
â–¡ Create business logic in src/controllers/
â–¡ Create API endpoints in src/routes/

Phase 4: Middleware
â–¡ Authentication middleware
â–¡ Authorization middleware
â–¡ Error handling

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ TIPS FOR SUCCESS

1. Keep models simple - one model = one database table
2. Keep controllers focused - one controller = one feature
3. Keep routes clean - use blueprints for organization
4. Test frequently - use pytest with your models
5. Document your code - comments and docstrings
6. Follow naming conventions - consistency matters
7. Use transactions - for data integrity
8. Log everything - especially for audit compliance

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ READY FOR NEXT STEP?

The structure is complete! Now you need to:

1. Create the SQL migration files (in migrations/ folder)
2. Create the SQLAlchemy models (in src/models/)
3. Create the controllers and routes

Which step do you want help with first? ğŸš€
